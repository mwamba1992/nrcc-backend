# Production Environment Configuration

# Database Configuration for Production
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/nrcc_prod_db}
spring.datasource.username=${DATABASE_USERNAME:postgres}
spring.datasource.password=${DATABASE_PASSWORD}

# JPA Configuration for Production
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Production Server Configuration
server.port=${SERVER_PORT:8080}
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-stacktrace=never
server.error.include-exception=false
server.compression.enabled=true
server.http2.enabled=true

# File Storage for Production
file.upload-dir=${FILE_UPLOAD_DIR:/var/nrcc/uploads}

# Logging for Production
logging.level.root=WARN
logging.level.tz.go.roadsfund.nrcc=INFO
logging.level.org.springframework.web=WARN
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN
logging.file.name=/var/log/nrcc/application.log
logging.file.max-size=10MB
logging.file.max-history=30

# CORS - Restrict to production frontend URL
cors.allowed-origins=${FRONTEND_URL:https://nrcc.roadsfund.go.tz}

# Email Configuration for Production
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}

# SMS Configuration for Production
sms.provider.url=${SMS_PROVIDER_URL}
sms.provider.api-key=${SMS_API_KEY}
sms.provider.sender-id=${SMS_SENDER_ID:NRCC}

# JWT Configuration for Production
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION:86400000}
jwt.refresh-expiration=${JWT_REFRESH_EXPIRATION:604800000}

# Actuator - Restrict endpoints for production
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=never

# Security Headers
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.same-site=strict

# DevTools - Disabled in production
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false
